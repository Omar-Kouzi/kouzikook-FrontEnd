{"ast":null,"code":"var _jsxFileName = \"/home/coze/Desktop/Zero/kouzikook/frontend/src/Components/pages/Profile/EditProfile.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport \"./EditProfile.css\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditProfile() {\n  _s();\n  const [userData, setUserData] = useState(null);\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [imageFile, setImageFile] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    async function fetchUserProfile() {\n      const userId = localStorage.getItem(\"id\");\n      try {\n        const response = await axios.get(`http://localhost:1112/user/${userId}`);\n        setUserData(response.data);\n        setName(response.data.name);\n        setEmail(response.data.email);\n      } catch (err) {\n        console.log(\"Err\", err);\n      }\n    }\n    fetchUserProfile();\n  }, []);\n  const handleSubmit = event => {\n    event.preventDefault();\n    const userId = localStorage.getItem(\"id\");\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"email\", email);\n    formData.append(\"password\", password);\n    if (imageFile) {\n      formData.append(\"image\", imageFile);\n    }\n    axios.patch(`http://localhost:1112/user/${userId}`, formData, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }).then(response => setUserData(response.data), navigate('/profile')).catch(error => console.log(error));\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"EditRecipe\",\n    children: userData && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Edit Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"EditingForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          placeholder: \"name\",\n          value: name,\n          onChange: event => setName(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          placeholder: \"email\",\n          value: email,\n          onChange: event => setEmail(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          value: password,\n          placeholder: \"password\",\n          onChange: event => setPassword(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"image\",\n          children: \"Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"image\",\n          accept: \"image/*\",\n          style: {\n            display: \"none\"\n          },\n          onChange: event => setImageFile(event.target.files[0])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"SubmitEditButton\",\n          type: \"submit\",\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(EditProfile, \"NuiZCePHkLNizTU5Qj21T1VZ8wE=\", false, function () {\n  return [useNavigate];\n});\n_c = EditProfile;\nexport default EditProfile;\nvar _c;\n$RefreshReg$(_c, \"EditProfile\");","map":{"version":3,"names":["useState","useEffect","useNavigate","axios","jsxDEV","_jsxDEV","EditProfile","_s","userData","setUserData","name","setName","email","setEmail","password","setPassword","imageFile","setImageFile","navigate","fetchUserProfile","userId","localStorage","getItem","response","get","data","err","console","log","handleSubmit","event","preventDefault","formData","FormData","append","patch","headers","Authorization","then","catch","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","id","placeholder","value","onChange","target","htmlFor","accept","style","display","files","_c","$RefreshReg$"],"sources":["/home/coze/Desktop/Zero/kouzikook/frontend/src/Components/pages/Profile/EditProfile.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport \"./EditProfile.css\";\nimport axios from \"axios\";\n\nfunction EditProfile() {\n  const [userData, setUserData] = useState(null);\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [imageFile, setImageFile] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    async function fetchUserProfile() {\n      const userId = localStorage.getItem(\"id\");\n      try {\n        const response = await axios.get(\n          `http://localhost:1112/user/${userId}`\n        );\n        setUserData(response.data);\n\n        setName(response.data.name);\n        setEmail(response.data.email);\n      } catch (err) {\n        console.log(\"Err\", err);\n      }\n    }\n    fetchUserProfile();\n  }, []);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const userId = localStorage.getItem(\"id\");\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"email\", email);\n    formData.append(\"password\", password);\n    if (imageFile) {\n      formData.append(\"image\", imageFile);\n    }\n    axios\n      .patch(`http://localhost:1112/user/${userId}`, formData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      })\n      .then((response) => setUserData(response.data),navigate('/profile'))\n      .catch((error) => console.log(error));\n  };\n\n  return (\n    <section className=\"EditRecipe\">\n      {userData && (\n        <div>\n          <h2>Edit Profile</h2>\n          <form onSubmit={handleSubmit} className=\"EditingForm\">\n            <input\n              type=\"text\"\n              id=\"name\"\n              placeholder=\"name\"\n              value={name}\n              onChange={(event) => setName(event.target.value)}\n            />\n            <input\n              type=\"email\"\n              id=\"email\"\n              placeholder=\"email\"\n              value={email}\n              onChange={(event) => setEmail(event.target.value)}\n            />\n            <input\n              type=\"password\"\n              id=\"password\"\n              value={password}\n              placeholder=\"password\"\n              onChange={(event) => setPassword(event.target.value)}\n            />\n\n            <label htmlFor=\"image\">Image</label>\n            <input\n              type=\"file\"\n              id=\"image\"\n              accept=\"image/*\"\n              style={{display:\"none\"}}\n              onChange={(event) => setImageFile(event.target.files[0])}\n            />\n\n            <button className=\"SubmitEditButton\" type=\"submit\">\n              Save Changes\n            </button>\n          </form>\n        </div>\n      )}\n    </section>\n  );\n}\n\nexport default EditProfile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}